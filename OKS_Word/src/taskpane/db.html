<!-- Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT License. -->
<!-- This file shows how to design a first-run page that provides a welcome screen to the user about the features of the add-in. -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Contoso Task Pane Add-in</title>

    
</head>
<body>
<script type ="text/javascript">
    var CAT = '%'+ 'Cisco' +'%';
      const mysql = require('mysql');
    const connection = mysql.createConnection({
        host: 'localhost',
        user: 'root',
        password: 'Pass4Labo',
        database: 'PXS',
        port : 3306
    });
    connection.connect(function(err) {
      if (err) { 
        console.log('error while  connecting');
        console.log(err.code);
        throw(err);
      }
      else
      {
        console.log('Connected !!!');
        /*connection.query("SELECT * FROM info", function (err, result, fields) {
          if (err) { 
            console.log('Error executing Query');
            console.log(err.code);
            console.log(err.log);
            throw err;
          }
          else{
            console.log(result[0].description);
          }
          connection.end();
          });*/
      }
      //var CAT = '%Forum%';
    
      connection.query("SELECT * FROM info where category like ?",[CAT], function (err, result, fields) {
      if (err) { 
        console.log('Error executing Query');
        console.log(err.code);
        console.log(err.log);
        throw err;
      }
      else{
        //write('The DB has produced --> '+ result[0].description);
        //console.log(result);
        console.log('Result Array in function --> ' + Array.isArray(result))
        console.log('Type of --> ' + typeof(result));
        console.log(result);
      }
      connection.end();
      });
    });
</script>
</body>
</html>
